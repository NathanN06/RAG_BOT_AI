{"ast":null,"code":"// src/components/ChatBot.js\n\"use client\";\n\nvar _jsxFileName = \"/Users/nathannguyen/Documents/RAG_BOT_1/frontend/src/components/ChatBot.js\",\n  _s = $RefreshSig$();\nimport { useState, useRef, useEffect } from \"react\";\nimport { Moon, Sun, Send, Upload } from \"lucide-react\";\nimport { marked } from \"marked\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Chatbot = () => {\n  _s();\n  const [messages, setMessages] = useState([]);\n  const [input, setInput] = useState(\"\");\n  const [darkMode, setDarkMode] = useState(false);\n  const [isTyping, setIsTyping] = useState(false);\n  const messagesEndRef = useRef(null);\n  useEffect(() => {\n    var _messagesEndRef$curre;\n    (_messagesEndRef$curre = messagesEndRef.current) === null || _messagesEndRef$curre === void 0 ? void 0 : _messagesEndRef$curre.scrollIntoView({\n      behavior: \"smooth\"\n    });\n  }, [messages]);\n  const handleSend = async () => {\n    if (!input.trim()) return;\n    const queries = input.split(/[?;]/).map(q => q.trim()).filter(q => q);\n    let botResponses = [];\n    for (let query of queries) {\n      if (!query) continue;\n      const newMessage = {\n        id: Date.now() + Math.random(),\n        text: query,\n        sender: \"user\"\n      };\n      setMessages(prev => [...prev, newMessage]);\n      setInput(\"\");\n      setIsTyping(true);\n      try {\n        const response = await fetch(\"http://127.0.0.1:5000/query\", {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\"\n          },\n          body: JSON.stringify({\n            user_input: query\n          })\n        });\n        if (!response.ok) throw new Error(\"Failed to fetch response from server\");\n        const data = await response.json();\n        const formattedResponse = marked(data.response);\n        const botResponse = {\n          id: Date.now() + Math.random(),\n          text: formattedResponse,\n          sender: \"bot\",\n          sources: data.sources || \"No source available\"\n        };\n        botResponses.push(botResponse);\n      } catch (error) {\n        console.error(\"Error fetching response:\", error);\n        const errorMessage = {\n          id: Date.now() + Math.random(),\n          text: \"Error: Unable to connect to the server. Please try again later.\",\n          sender: \"bot\"\n        };\n        botResponses.push(errorMessage);\n      } finally {\n        setIsTyping(false);\n      }\n    }\n    setMessages(prev => [...prev, ...botResponses]);\n  };\n  const handleInputChange = e => {\n    setInput(e.target.value);\n  };\n\n  // Handle file upload for adding PDF files\n  const handleFileUpload = async e => {\n    const file = e.target.files[0];\n    if (file) {\n      console.log(\"File selected:\", file.name);\n      const formData = new FormData();\n      formData.append(\"pdf\", file);\n      try {\n        const response = await fetch(\"http://127.0.0.1:5000/upload\", {\n          method: \"POST\",\n          body: formData\n        });\n        if (!response.ok) throw new Error(\"Failed to upload file\");\n        console.log(\"File uploaded successfully\");\n        setMessages(prev => [...prev, {\n          id: Date.now() + Math.random(),\n          text: `Successfully uploaded: ${file.name}`,\n          sender: \"bot\"\n        }]);\n      } catch (error) {\n        console.error(\"Error uploading file:\", error);\n        setMessages(prev => [...prev, {\n          id: Date.now() + Math.random(),\n          text: `Error uploading file: ${file.name}`,\n          sender: \"bot\"\n        }]);\n      }\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `h-screen flex flex-col ${darkMode ? \"bg-neutral-900 text-white\" : \"bg-neutral-100 text-gray-900\"} transition-colors duration-300`,\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"flex justify-between items-center p-4 bg-white dark:bg-neutral-900 border-b border-neutral-300 dark:border-neutral-800\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-xl font-semibold\",\n        children: \"RAG Bot\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setDarkMode(!darkMode),\n        className: \"p-2 hover:bg-neutral-200 dark:hover:bg-neutral-800 rounded-full transition-transform duration-300\",\n        children: darkMode ? /*#__PURE__*/_jsxDEV(Sun, {\n          className: \"h-5 w-5 text-yellow-400\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(Moon, {\n          className: \"h-5 w-5 text-gray-600\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"flex-grow overflow-auto p-4\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"max-w-2xl mx-auto space-y-4\",\n        children: [messages.map(message => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `flex ${message.sender === \"user\" ? \"justify-end\" : \"justify-start\"} animate-fade-in`,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `max-w-xs md:max-w-md p-3 rounded-lg ${message.sender === \"user\" ? \"bg-blue-500 text-white rounded-br-none\" : \"bg-neutral-200 dark:bg-neutral-800 text-gray-800 dark:text-white rounded-bl-none\"} shadow-sm`,\n            children: [message.sender === \"bot\" ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"markdown-content\",\n              dangerouslySetInnerHTML: {\n                __html: message.text\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 159,\n              columnNumber: 19\n            }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n              children: message.text\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 164,\n              columnNumber: 19\n            }, this), message.sender === \"bot\" && message.sources !== \"No source available\" && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-xs text-neutral-500 mt-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Sources:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 169,\n                columnNumber: 23\n              }, this), \" \", message.sources]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 168,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 151,\n            columnNumber: 15\n          }, this)\n        }, message.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 13\n        }, this)), isTyping && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-start animate-fade-in\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-neutral-200 dark:bg-neutral-800 p-3 rounded-lg rounded-bl-none shadow-sm\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex space-x-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"w-2 h-2 bg-blue-400 rounded-full animate-bounce\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 179,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"w-2 h-2 bg-blue-400 rounded-full animate-bounce\",\n                style: {\n                  animationDelay: \"0.2s\"\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 180,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"w-2 h-2 bg-blue-400 rounded-full animate-bounce\",\n                style: {\n                  animationDelay: \"0.4s\"\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 184,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 178,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 177,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          ref: messagesEndRef\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"footer\", {\n      className: \"p-4 bg-white dark:bg-neutral-900 border-t border-neutral-300 dark:border-neutral-800\",\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: e => {\n          e.preventDefault();\n          handleSend();\n        },\n        className: \"flex items-center space-x-3 max-w-2xl mx-auto\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"Type your message...\",\n          value: input,\n          onChange: handleInputChange,\n          className: \"flex-grow bg-neutral-100 dark:bg-neutral-800 border border-neutral-300 dark:border-neutral-700 p-3 rounded-lg focus:outline-none\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center p-2 rounded-full bg-neutral-200 dark:bg-neutral-800 transition-transform duration-300 hover:scale-105\",\n          children: /*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"cursor-pointer flex items-center\",\n            children: [/*#__PURE__*/_jsxDEV(Upload, {\n              className: \"h-5 w-5 text-gray-600 dark:text-gray-300\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 213,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"file\",\n              accept: \".pdf\",\n              className: \"hidden\",\n              onChange: handleFileUpload\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 214,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 212,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"p-3 rounded-full bg-blue-500 hover:bg-blue-600 text-white transition-transform duration-300 hover:scale-110\",\n          children: [/*#__PURE__*/_jsxDEV(Send, {\n            className: \"h-4 w-4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 226,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"sr-only\",\n            children: \"Send\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 227,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 123,\n    columnNumber: 5\n  }, this);\n};\n_s(Chatbot, \"K8mLJu6G0I2Zk0e00jkMiFQjJgg=\");\n_c = Chatbot;\nexport default Chatbot;\nvar _c;\n$RefreshReg$(_c, \"Chatbot\");","map":{"version":3,"names":["_jsxFileName","_s","$RefreshSig$","useState","useRef","useEffect","Moon","Sun","Send","Upload","marked","jsxDEV","_jsxDEV","Chatbot","messages","setMessages","input","setInput","darkMode","setDarkMode","isTyping","setIsTyping","messagesEndRef","_messagesEndRef$curre","current","scrollIntoView","behavior","handleSend","trim","queries","split","map","q","filter","botResponses","query","newMessage","id","Date","now","Math","random","text","sender","prev","response","fetch","method","headers","body","JSON","stringify","user_input","ok","Error","data","json","formattedResponse","botResponse","sources","push","error","console","errorMessage","handleInputChange","e","target","value","handleFileUpload","file","files","log","name","formData","FormData","append","className","children","fileName","lineNumber","columnNumber","onClick","message","dangerouslySetInnerHTML","__html","style","animationDelay","ref","onSubmit","preventDefault","type","placeholder","onChange","accept","_c","$RefreshReg$"],"sources":["/Users/nathannguyen/Documents/RAG_BOT_1/frontend/src/components/ChatBot.js"],"sourcesContent":["// src/components/ChatBot.js\n\"use client\";\n\nimport { useState, useRef, useEffect } from \"react\";\nimport { Moon, Sun, Send, Upload } from \"lucide-react\";\nimport { marked } from \"marked\";\n\nconst Chatbot = () => {\n  const [messages, setMessages] = useState([]);\n  const [input, setInput] = useState(\"\");\n  const [darkMode, setDarkMode] = useState(false);\n  const [isTyping, setIsTyping] = useState(false);\n  const messagesEndRef = useRef(null);\n\n  useEffect(() => {\n    messagesEndRef.current?.scrollIntoView({ behavior: \"smooth\" });\n  }, [messages]);\n\n  const handleSend = async () => {\n    if (!input.trim()) return;\n\n    const queries = input\n      .split(/[?;]/)\n      .map((q) => q.trim())\n      .filter((q) => q);\n    let botResponses = [];\n\n    for (let query of queries) {\n      if (!query) continue;\n\n      const newMessage = {\n        id: Date.now() + Math.random(),\n        text: query,\n        sender: \"user\",\n      };\n      setMessages((prev) => [...prev, newMessage]);\n      setInput(\"\");\n      setIsTyping(true);\n\n      try {\n        const response = await fetch(\"http://127.0.0.1:5000/query\", {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n          },\n          body: JSON.stringify({ user_input: query }),\n        });\n\n        if (!response.ok)\n          throw new Error(\"Failed to fetch response from server\");\n\n        const data = await response.json();\n        const formattedResponse = marked(data.response);\n\n        const botResponse = {\n          id: Date.now() + Math.random(),\n          text: formattedResponse,\n          sender: \"bot\",\n          sources: data.sources || \"No source available\",\n        };\n        botResponses.push(botResponse);\n      } catch (error) {\n        console.error(\"Error fetching response:\", error);\n        const errorMessage = {\n          id: Date.now() + Math.random(),\n          text: \"Error: Unable to connect to the server. Please try again later.\",\n          sender: \"bot\",\n        };\n        botResponses.push(errorMessage);\n      } finally {\n        setIsTyping(false);\n      }\n    }\n\n    setMessages((prev) => [...prev, ...botResponses]);\n  };\n\n  const handleInputChange = (e) => {\n    setInput(e.target.value);\n  };\n\n  // Handle file upload for adding PDF files\n  const handleFileUpload = async (e) => {\n    const file = e.target.files[0];\n    if (file) {\n      console.log(\"File selected:\", file.name);\n\n      const formData = new FormData();\n      formData.append(\"pdf\", file);\n\n      try {\n        const response = await fetch(\"http://127.0.0.1:5000/upload\", {\n          method: \"POST\",\n          body: formData,\n        });\n\n        if (!response.ok) throw new Error(\"Failed to upload file\");\n\n        console.log(\"File uploaded successfully\");\n        setMessages((prev) => [\n          ...prev,\n          {\n            id: Date.now() + Math.random(),\n            text: `Successfully uploaded: ${file.name}`,\n            sender: \"bot\",\n          },\n        ]);\n      } catch (error) {\n        console.error(\"Error uploading file:\", error);\n        setMessages((prev) => [\n          ...prev,\n          {\n            id: Date.now() + Math.random(),\n            text: `Error uploading file: ${file.name}`,\n            sender: \"bot\",\n          },\n        ]);\n      }\n    }\n  };\n\n  return (\n    <div\n      className={`h-screen flex flex-col ${\n        darkMode ? \"bg-neutral-900 text-white\" : \"bg-neutral-100 text-gray-900\"\n      } transition-colors duration-300`}\n    >\n      <header className=\"flex justify-between items-center p-4 bg-white dark:bg-neutral-900 border-b border-neutral-300 dark:border-neutral-800\">\n        <h1 className=\"text-xl font-semibold\">RAG Bot</h1>\n        <button\n          onClick={() => setDarkMode(!darkMode)}\n          className=\"p-2 hover:bg-neutral-200 dark:hover:bg-neutral-800 rounded-full transition-transform duration-300\"\n        >\n          {darkMode ? (\n            <Sun className=\"h-5 w-5 text-yellow-400\" />\n          ) : (\n            <Moon className=\"h-5 w-5 text-gray-600\" />\n          )}\n        </button>\n      </header>\n\n      <main className=\"flex-grow overflow-auto p-4\">\n        <div className=\"max-w-2xl mx-auto space-y-4\">\n          {messages.map((message) => (\n            <div\n              key={message.id}\n              className={`flex ${\n                message.sender === \"user\" ? \"justify-end\" : \"justify-start\"\n              } animate-fade-in`}\n            >\n              <div\n                className={`max-w-xs md:max-w-md p-3 rounded-lg ${\n                  message.sender === \"user\"\n                    ? \"bg-blue-500 text-white rounded-br-none\"\n                    : \"bg-neutral-200 dark:bg-neutral-800 text-gray-800 dark:text-white rounded-bl-none\"\n                } shadow-sm`}\n              >\n                {message.sender === \"bot\" ? (\n                  <div\n                    className=\"markdown-content\"\n                    dangerouslySetInnerHTML={{ __html: message.text }}\n                  ></div>\n                ) : (\n                  <p>{message.text}</p>\n                )}\n                {message.sender === \"bot\" &&\n                  message.sources !== \"No source available\" && (\n                    <div className=\"text-xs text-neutral-500 mt-2\">\n                      <strong>Sources:</strong> {message.sources}\n                    </div>\n                  )}\n              </div>\n            </div>\n          ))}\n          {isTyping && (\n            <div className=\"flex justify-start animate-fade-in\">\n              <div className=\"bg-neutral-200 dark:bg-neutral-800 p-3 rounded-lg rounded-bl-none shadow-sm\">\n                <div className=\"flex space-x-2\">\n                  <div className=\"w-2 h-2 bg-blue-400 rounded-full animate-bounce\"></div>\n                  <div\n                    className=\"w-2 h-2 bg-blue-400 rounded-full animate-bounce\"\n                    style={{ animationDelay: \"0.2s\" }}\n                  ></div>\n                  <div\n                    className=\"w-2 h-2 bg-blue-400 rounded-full animate-bounce\"\n                    style={{ animationDelay: \"0.4s\" }}\n                  ></div>\n                </div>\n              </div>\n            </div>\n          )}\n          <div ref={messagesEndRef} />\n        </div>\n      </main>\n\n      <footer className=\"p-4 bg-white dark:bg-neutral-900 border-t border-neutral-300 dark:border-neutral-800\">\n        <form\n          onSubmit={(e) => {\n            e.preventDefault();\n            handleSend();\n          }}\n          className=\"flex items-center space-x-3 max-w-2xl mx-auto\"\n        >\n          <input\n            type=\"text\"\n            placeholder=\"Type your message...\"\n            value={input}\n            onChange={handleInputChange}\n            className=\"flex-grow bg-neutral-100 dark:bg-neutral-800 border border-neutral-300 dark:border-neutral-700 p-3 rounded-lg focus:outline-none\"\n          />\n          <div className=\"flex items-center p-2 rounded-full bg-neutral-200 dark:bg-neutral-800 transition-transform duration-300 hover:scale-105\">\n            <label className=\"cursor-pointer flex items-center\">\n              <Upload className=\"h-5 w-5 text-gray-600 dark:text-gray-300\" />\n              <input\n                type=\"file\"\n                accept=\".pdf\"\n                className=\"hidden\"\n                onChange={handleFileUpload}\n              />\n            </label>\n          </div>\n          <button\n            type=\"submit\"\n            className=\"p-3 rounded-full bg-blue-500 hover:bg-blue-600 text-white transition-transform duration-300 hover:scale-110\"\n          >\n            <Send className=\"h-4 w-4\" />\n            <span className=\"sr-only\">Send</span>\n          </button>\n        </form>\n      </footer>\n    </div>\n  );\n};\n\nexport default Chatbot;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}