{"ast":null,"code":"// src/components/ChatBot.js\n\"use client\";\n\nvar _jsxFileName = \"/Users/nathannguyen/Documents/RAG_BOT_1/frontend/src/components/ChatBot.js\",\n  _s = $RefreshSig$();\nimport { useState, useRef, useEffect } from \"react\";\nimport { Moon, Sun, Send, Upload } from \"lucide-react\";\nimport { marked } from \"marked\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Chatbot = () => {\n  _s();\n  const [messages, setMessages] = useState([]);\n  const [input, setInput] = useState(\"\");\n  const [darkMode, setDarkMode] = useState(false);\n  const [isTyping, setIsTyping] = useState(false);\n  const messagesEndRef = useRef(null);\n  useEffect(() => {\n    var _messagesEndRef$curre;\n    (_messagesEndRef$curre = messagesEndRef.current) === null || _messagesEndRef$curre === void 0 ? void 0 : _messagesEndRef$curre.scrollIntoView({\n      behavior: \"smooth\"\n    });\n  }, [messages]);\n  const handleSend = async () => {\n    if (!input.trim()) return;\n    const queries = input.split(/[?;]/).map(q => q.trim()).filter(q => q);\n    let botResponses = [];\n    for (let query of queries) {\n      if (!query) continue;\n      const newMessage = {\n        id: Date.now() + Math.random(),\n        text: query,\n        sender: \"user\"\n      };\n      setMessages(prev => [...prev, newMessage]);\n      setInput(\"\");\n      setIsTyping(true);\n\n      // Self-query enrichment indicator for short queries\n      if (query.length < 5) {\n        const enrichmentMessage = {\n          id: Date.now() + Math.random(),\n          text: \"I'm enhancing your query for a better answer...\",\n          sender: \"bot\"\n        };\n        setMessages(prev => [...prev, enrichmentMessage]);\n      }\n      try {\n        const response = await fetch(\"http://127.0.0.1:5000/query\", {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\"\n          },\n          body: JSON.stringify({\n            user_input: query\n          })\n        });\n        if (!response.ok) throw new Error(\"Failed to fetch response from server\");\n        const data = await response.json();\n        const formattedResponse = marked(data.response);\n        const botResponse = {\n          id: Date.now() + Math.random(),\n          text: formattedResponse,\n          sender: \"bot\",\n          sources: data.sources || \"No source available\"\n        };\n        botResponses.push(botResponse);\n      } catch (error) {\n        console.error(\"Error fetching response:\", error);\n        const errorMessage = {\n          id: Date.now() + Math.random(),\n          text: \"Error: Unable to connect to the server. Please try again later.\",\n          sender: \"bot\"\n        };\n        botResponses.push(errorMessage);\n      } finally {\n        setIsTyping(false);\n      }\n    }\n    setMessages(prev => [...prev, ...botResponses]);\n  };\n  const handleInputChange = e => {\n    setInput(e.target.value);\n  };\n\n  // Handle file upload for adding PDF files\n  const handleFileUpload = async e => {\n    const file = e.target.files[0];\n    if (file) {\n      console.log(\"File selected:\", file.name);\n      const formData = new FormData();\n      formData.append(\"pdf\", file);\n      try {\n        const response = await fetch(\"http://127.0.0.1:5000/upload\", {\n          method: \"POST\",\n          body: formData\n        });\n        if (!response.ok) throw new Error(\"Failed to upload file\");\n        console.log(\"File uploaded successfully\");\n        setMessages(prev => [...prev, {\n          id: Date.now() + Math.random(),\n          text: `Successfully uploaded: ${file.name}`,\n          sender: \"bot\"\n        }]);\n      } catch (error) {\n        console.error(\"Error uploading file:\", error);\n        setMessages(prev => [...prev, {\n          id: Date.now() + Math.random(),\n          text: `Error uploading file: ${file.name}`,\n          sender: \"bot\"\n        }]);\n      }\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `h-screen flex flex-col ${darkMode ? \"bg-gray-900 text-white\" : \"bg-gradient-to-br from-purple-50 to-indigo-100 text-gray-900\"} transition-colors duration-300`,\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"flex justify-between items-center p-4 bg-white dark:bg-gray-800 shadow-md rounded-b-lg\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-3xl font-bold font-mono text-purple-600 dark:text-purple-400 animate-fade-in\",\n        children: \"RAG Bot\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setDarkMode(!darkMode),\n        className: \"rounded-full p-2 hover:bg-purple-100 dark:hover:bg-gray-700 transition-transform duration-300 transform hover:rotate-45\",\n        children: darkMode ? /*#__PURE__*/_jsxDEV(Sun, {\n          className: \"h-6 w-6 text-yellow-400\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(Moon, {\n          className: \"h-6 w-6 text-purple-600\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"flex-grow overflow-auto p-6\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"max-w-3xl mx-auto space-y-4\",\n        children: [messages.map(message => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `flex ${message.sender === \"user\" ? \"justify-end\" : \"justify-start\"} animate-slide-up`,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `max-w-sm md:max-w-lg lg:max-w-xl p-4 rounded-xl ${message.sender === \"user\" ? \"bg-purple-600 text-white rounded-br-none\" : \"bg-white text-gray-900 dark:bg-gray-800 dark:text-white rounded-bl-none\"} shadow-md transition-transform duration-300 transform hover:scale-105`,\n            children: [message.sender === \"bot\" ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"markdown-content\",\n              dangerouslySetInnerHTML: {\n                __html: message.text\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 174,\n              columnNumber: 19\n            }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n              children: message.text\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 179,\n              columnNumber: 19\n            }, this), message.sender === \"bot\" && message.sources !== \"No source available\" && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-sm text-gray-500 mt-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Sources:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 185,\n                columnNumber: 23\n              }, this), Array.isArray(message.sources) ? message.sources.map((source, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                children: /*#__PURE__*/_jsxDEV(\"a\", {\n                  href: source,\n                  target: \"_blank\",\n                  rel: \"noopener noreferrer\",\n                  className: \"text-blue-500 underline\",\n                  children: source\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 189,\n                  columnNumber: 31\n                }, this)\n              }, index, false, {\n                fileName: _jsxFileName,\n                lineNumber: 188,\n                columnNumber: 29\n              }, this)) : message.sources]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 184,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 165,\n            columnNumber: 15\n          }, this)\n        }, message.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 13\n        }, this)), isTyping && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-start animate-slide-up\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white dark:bg-gray-800 p-3 rounded-lg rounded-bl-none shadow-md\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex space-x-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"w-3 h-3 bg-purple-400 rounded-full animate-bounce\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 209,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"w-3 h-3 bg-purple-400 rounded-full animate-bounce\",\n                style: {\n                  animationDelay: \"0.2s\"\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 210,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"w-3 h-3 bg-purple-400 rounded-full animate-bounce\",\n                style: {\n                  animationDelay: \"0.4s\"\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 214,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 208,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 207,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          ref: messagesEndRef\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"footer\", {\n      className: \"p-4 bg-white dark:bg-gray-800 shadow-md rounded-t-lg\",\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: e => {\n          e.preventDefault();\n          handleSend();\n        },\n        className: \"flex items-center space-x-4 max-w-3xl mx-auto\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"Type your message...\",\n          value: input,\n          onChange: handleInputChange,\n          className: \"flex-grow bg-gray-100 dark:bg-gray-700 border-purple-300 dark:border-gray-600 focus:ring-purple-500 focus:border-purple-500 p-3 rounded-lg\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 234,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"flex items-center cursor-pointer\",\n          children: [/*#__PURE__*/_jsxDEV(Upload, {\n            className: \"h-6 w-6 text-purple-600 dark:text-purple-400 mr-2 transition-transform duration-300 transform hover:scale-110\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 242,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"file\",\n            accept: \".pdf\",\n            className: \"hidden\",\n            onChange: handleFileUpload\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 243,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 241,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"rounded-full bg-purple-600 hover:bg-purple-700 text-white p-3 transition-transform duration-300 transform hover:scale-110\",\n          children: [/*#__PURE__*/_jsxDEV(Send, {\n            className: \"h-4 w-4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 254,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"sr-only\",\n            children: \"Send\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 255,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 250,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 133,\n    columnNumber: 5\n  }, this);\n};\n_s(Chatbot, \"K8mLJu6G0I2Zk0e00jkMiFQjJgg=\");\n_c = Chatbot;\nexport default Chatbot;\nvar _c;\n$RefreshReg$(_c, \"Chatbot\");","map":{"version":3,"names":["_jsxFileName","_s","$RefreshSig$","useState","useRef","useEffect","Moon","Sun","Send","Upload","marked","jsxDEV","_jsxDEV","Chatbot","messages","setMessages","input","setInput","darkMode","setDarkMode","isTyping","setIsTyping","messagesEndRef","_messagesEndRef$curre","current","scrollIntoView","behavior","handleSend","trim","queries","split","map","q","filter","botResponses","query","newMessage","id","Date","now","Math","random","text","sender","prev","length","enrichmentMessage","response","fetch","method","headers","body","JSON","stringify","user_input","ok","Error","data","json","formattedResponse","botResponse","sources","push","error","console","errorMessage","handleInputChange","e","target","value","handleFileUpload","file","files","log","name","formData","FormData","append","className","children","fileName","lineNumber","columnNumber","onClick","message","dangerouslySetInnerHTML","__html","Array","isArray","source","index","href","rel","style","animationDelay","ref","onSubmit","preventDefault","type","placeholder","onChange","accept","_c","$RefreshReg$"],"sources":["/Users/nathannguyen/Documents/RAG_BOT_1/frontend/src/components/ChatBot.js"],"sourcesContent":["// src/components/ChatBot.js\n\"use client\";\n\nimport { useState, useRef, useEffect } from \"react\";\nimport { Moon, Sun, Send, Upload } from \"lucide-react\";\nimport { marked } from \"marked\";\n\nconst Chatbot = () => {\n  const [messages, setMessages] = useState([]);\n  const [input, setInput] = useState(\"\");\n  const [darkMode, setDarkMode] = useState(false);\n  const [isTyping, setIsTyping] = useState(false);\n  const messagesEndRef = useRef(null);\n\n  useEffect(() => {\n    messagesEndRef.current?.scrollIntoView({ behavior: \"smooth\" });\n  }, [messages]);\n\n  const handleSend = async () => {\n    if (!input.trim()) return;\n\n    const queries = input\n      .split(/[?;]/)\n      .map((q) => q.trim())\n      .filter((q) => q);\n    let botResponses = [];\n\n    for (let query of queries) {\n      if (!query) continue;\n\n      const newMessage = {\n        id: Date.now() + Math.random(),\n        text: query,\n        sender: \"user\",\n      };\n      setMessages((prev) => [...prev, newMessage]);\n      setInput(\"\");\n      setIsTyping(true);\n\n      // Self-query enrichment indicator for short queries\n      if (query.length < 5) {\n        const enrichmentMessage = {\n          id: Date.now() + Math.random(),\n          text: \"I'm enhancing your query for a better answer...\",\n          sender: \"bot\",\n        };\n        setMessages((prev) => [...prev, enrichmentMessage]);\n      }\n\n      try {\n        const response = await fetch(\"http://127.0.0.1:5000/query\", {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n          },\n          body: JSON.stringify({ user_input: query }),\n        });\n\n        if (!response.ok)\n          throw new Error(\"Failed to fetch response from server\");\n\n        const data = await response.json();\n        const formattedResponse = marked(data.response);\n\n        const botResponse = {\n          id: Date.now() + Math.random(),\n          text: formattedResponse,\n          sender: \"bot\",\n          sources: data.sources || \"No source available\",\n        };\n        botResponses.push(botResponse);\n      } catch (error) {\n        console.error(\"Error fetching response:\", error);\n        const errorMessage = {\n          id: Date.now() + Math.random(),\n          text: \"Error: Unable to connect to the server. Please try again later.\",\n          sender: \"bot\",\n        };\n        botResponses.push(errorMessage);\n      } finally {\n        setIsTyping(false);\n      }\n    }\n\n    setMessages((prev) => [...prev, ...botResponses]);\n  };\n\n  const handleInputChange = (e) => {\n    setInput(e.target.value);\n  };\n\n  // Handle file upload for adding PDF files\n  const handleFileUpload = async (e) => {\n    const file = e.target.files[0];\n    if (file) {\n      console.log(\"File selected:\", file.name);\n\n      const formData = new FormData();\n      formData.append(\"pdf\", file);\n\n      try {\n        const response = await fetch(\"http://127.0.0.1:5000/upload\", {\n          method: \"POST\",\n          body: formData,\n        });\n\n        if (!response.ok) throw new Error(\"Failed to upload file\");\n\n        console.log(\"File uploaded successfully\");\n        setMessages((prev) => [\n          ...prev,\n          {\n            id: Date.now() + Math.random(),\n            text: `Successfully uploaded: ${file.name}`,\n            sender: \"bot\",\n          },\n        ]);\n      } catch (error) {\n        console.error(\"Error uploading file:\", error);\n        setMessages((prev) => [\n          ...prev,\n          {\n            id: Date.now() + Math.random(),\n            text: `Error uploading file: ${file.name}`,\n            sender: \"bot\",\n          },\n        ]);\n      }\n    }\n  };\n\n  return (\n    <div\n      className={`h-screen flex flex-col ${\n        darkMode\n          ? \"bg-gray-900 text-white\"\n          : \"bg-gradient-to-br from-purple-50 to-indigo-100 text-gray-900\"\n      } transition-colors duration-300`}\n    >\n      <header className=\"flex justify-between items-center p-4 bg-white dark:bg-gray-800 shadow-md rounded-b-lg\">\n        <h1 className=\"text-3xl font-bold font-mono text-purple-600 dark:text-purple-400 animate-fade-in\">\n          RAG Bot\n        </h1>\n        <button\n          onClick={() => setDarkMode(!darkMode)}\n          className=\"rounded-full p-2 hover:bg-purple-100 dark:hover:bg-gray-700 transition-transform duration-300 transform hover:rotate-45\"\n        >\n          {darkMode ? (\n            <Sun className=\"h-6 w-6 text-yellow-400\" />\n          ) : (\n            <Moon className=\"h-6 w-6 text-purple-600\" />\n          )}\n        </button>\n      </header>\n\n      <main className=\"flex-grow overflow-auto p-6\">\n        <div className=\"max-w-3xl mx-auto space-y-4\">\n          {messages.map((message) => (\n            <div\n              key={message.id}\n              className={`flex ${\n                message.sender === \"user\" ? \"justify-end\" : \"justify-start\"\n              } animate-slide-up`}\n            >\n              <div\n                className={`max-w-sm md:max-w-lg lg:max-w-xl p-4 rounded-xl ${\n                  message.sender === \"user\"\n                    ? \"bg-purple-600 text-white rounded-br-none\"\n                    : \"bg-white text-gray-900 dark:bg-gray-800 dark:text-white rounded-bl-none\"\n                } shadow-md transition-transform duration-300 transform hover:scale-105`}\n              >\n                {/* Render parsed HTML for bot responses */}\n                {message.sender === \"bot\" ? (\n                  <div\n                    className=\"markdown-content\"\n                    dangerouslySetInnerHTML={{ __html: message.text }}\n                  ></div>\n                ) : (\n                  <p>{message.text}</p>\n                )}\n                {/* Display sources if available */}\n                {message.sender === \"bot\" &&\n                  message.sources !== \"No source available\" && (\n                    <div className=\"text-sm text-gray-500 mt-2\">\n                      <strong>Sources:</strong>\n                      {Array.isArray(message.sources)\n                        ? message.sources.map((source, index) => (\n                            <div key={index}>\n                              <a\n                                href={source}\n                                target=\"_blank\"\n                                rel=\"noopener noreferrer\"\n                                className=\"text-blue-500 underline\"\n                              >\n                                {source}\n                              </a>\n                            </div>\n                          ))\n                        : message.sources}\n                    </div>\n                  )}\n              </div>\n            </div>\n          ))}\n          {isTyping && (\n            <div className=\"flex justify-start animate-slide-up\">\n              <div className=\"bg-white dark:bg-gray-800 p-3 rounded-lg rounded-bl-none shadow-md\">\n                <div className=\"flex space-x-2\">\n                  <div className=\"w-3 h-3 bg-purple-400 rounded-full animate-bounce\"></div>\n                  <div\n                    className=\"w-3 h-3 bg-purple-400 rounded-full animate-bounce\"\n                    style={{ animationDelay: \"0.2s\" }}\n                  ></div>\n                  <div\n                    className=\"w-3 h-3 bg-purple-400 rounded-full animate-bounce\"\n                    style={{ animationDelay: \"0.4s\" }}\n                  ></div>\n                </div>\n              </div>\n            </div>\n          )}\n          <div ref={messagesEndRef} />\n        </div>\n      </main>\n\n      <footer className=\"p-4 bg-white dark:bg-gray-800 shadow-md rounded-t-lg\">\n        <form\n          onSubmit={(e) => {\n            e.preventDefault();\n            handleSend();\n          }}\n          className=\"flex items-center space-x-4 max-w-3xl mx-auto\"\n        >\n          <input\n            type=\"text\"\n            placeholder=\"Type your message...\"\n            value={input}\n            onChange={handleInputChange}\n            className=\"flex-grow bg-gray-100 dark:bg-gray-700 border-purple-300 dark:border-gray-600 focus:ring-purple-500 focus:border-purple-500 p-3 rounded-lg\"\n          />\n          <label className=\"flex items-center cursor-pointer\">\n            <Upload className=\"h-6 w-6 text-purple-600 dark:text-purple-400 mr-2 transition-transform duration-300 transform hover:scale-110\" />\n            <input\n              type=\"file\"\n              accept=\".pdf\"\n              className=\"hidden\"\n              onChange={handleFileUpload}\n            />\n          </label>\n          <button\n            type=\"submit\"\n            className=\"rounded-full bg-purple-600 hover:bg-purple-700 text-white p-3 transition-transform duration-300 transform hover:scale-110\"\n          >\n            <Send className=\"h-4 w-4\" />\n            <span className=\"sr-only\">Send</span>\n          </button>\n        </form>\n      </footer>\n    </div>\n  );\n};\n\nexport default Chatbot;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}